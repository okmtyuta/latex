\ProvidesPackage{slide} 

\usepackage{
  bxdpx-beamer, pxjahyper, minijs,
  mathtools, multicol, graphicx,
  ifthen, xparse, kvoptions
}
\usepackage{
  _shared
}

\setbeamertemplate{theorems}[numbered]
\renewcommand{\kanjifamilydefault}{\gtdefault}

\usetheme{Boadilla}
\usefonttheme[onlymath]{serif}
\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{footline}{}
\setbeamertemplate{blocks}[rounded]
\setbeamertemplate{itemize items}[circle]
\setbeamerfont{frametitle}{size=\large}
\setbeamercolor{structure}{fg=ublue}
\setbeamercolor{alerted text}{fg=ured}
\setbeamercolor{example text}{fg=ugreen}

\setbeamertemplate{frametitle}{
  \ifthenelse{\value{subsection} = 0}{
    \vspace{3mm}\thesection. \insertframetitle
  }{
    \vspace{3mm}\thesection.\thesubsection. \insertframetitle
  }
}

\NewDocumentCommand\framesection{s m}{
  {
    \IfBooleanF{#1}{\stepcounter{section}\frametitle{#2}}
    \IfBooleanT{#1}{\frametitle{#2}}
  }
}
\NewDocumentCommand\framesubsection{s m}{
  {
    \IfBooleanF{#1}{\stepcounter{subsection}\frametitle{#2}}
    \IfBooleanT{#1}{\frametitle{#2}}
  }
}


\renewcommand{\baselinestretch}{1.3}

\DeclareStringOption[]{footer}
\setbeamertemplate{footline}[text line]{
  \parbox{0.8\linewidth}{
    \begin{flushleft}
      \slide@footer
    \end{flushleft}
  }

  \parbox{0.2\linewidth}{
    \begin{flushright}
      \insertframenumber/\inserttotalframenumber
    \end{flushright}
  }
}

\ProcessKeyvalOptions{footer}