\usepackage[top=25truemm,bottom=20truemm,left=20truemm,right=20truemm]{geometry}
\PassOptionsToPackage{hyphens}{url}
\usepackage[dvipdfmx]{graphicx, xcolor, hyperref}
\usepackage{
  amsmath, amssymb, amsthm, mathtools, ascmac,
  tikz-cd,
  bm, braket, mathrsfs,
  fancyhdr, multicol, setspace, lastpage, listings,
  algorithmic, algorithm,
  natbib
}

\makeatletter
\renewcommand{\maketitle}{
  \newgeometry{top=75truemm,bottom=20truemm,left=35truemm,right=35truemm}

  \begin{spacing}{2.5}
    {\huge\bfseries\color{ured}{\@title}}
    \begin{center}
      {\Large OKAMOTO Yuta}

      {\Large 京都大学大学院情報学専攻情報学研究科データ科学コース}
    \end{center}
    \begin{center}
      {\today}
    \end{center}
  \end{spacing}

  \restoregeometry
  \newpage
}
\makeatother
\renewcommand{\kanjifamilydefault}{\gtdefault}
\renewcommand{\familydefault}{\sfdefault}
\renewcommand{\contentsname}{Table of contents}
\renewcommand{\bibsection}{}
\renewcommand{\baselinestretch}{1.5}

\definecolor{ured}{RGB}{255, 75, 0}
\definecolor{ublue}{RGB}{0, 90, 255}
\definecolor{uskyblue}{RGB}{191, 228, 255}
\definecolor{ugreen}{RGB}{3, 175, 122}
\definecolor{ucyan}{RGB}{77, 196, 255}
\definecolor{uorange}{RGB}{246, 170, 0}
\definecolor{uyellow}{RGB}{255, 241, 0}
\definecolor{ublack}{RGB}{0, 0, 0}
\definecolor{char}{RGB}{40, 40, 40}
\definecolor{_listings_background}{RGB}{245,242,240}
\definecolor{_listings_string}{RGB}{102,153,0}
\definecolor{_listings_keyword}{RGB}{0,119,170}
\definecolor{_listings_variables}{RGB}{238,153,0}
\definecolor{_listings_comment}{RGB}{153,0,85}
\definecolor{_listings_identifier}{RGB}{221,74,104}

\hypersetup{
  setpagesize=false,
  bookmarksnumbered=true,
  bookmarksopen=true,
  colorlinks=true,
  allcolors=ublue,
}

\lstdefinestyle{style}{
  backgroundcolor=\color{_listings_background},
  commentstyle=\color{_listings_comment},
  keywordstyle=\color{_listings_keyword},
  numberstyle=\color{_listings_variables},
  stringstyle=\color{_listings_string},
  identifierstyle=\color{_listings_identifier},
  basicstyle=\ttfamily\footnotesize,
  breakatwhitespace=false,
  breaklines=true,  
  captionpos=b,  
  keepspaces=true,  
  numbers=left,  
  numbersep=7pt,
  showspaces=false, 
  showstringspaces=false,
  showtabs=false,
  tabsize=2,
  xleftmargin=0.5cm,
  xrightmargin=0.5cm,
  framexleftmargin=0.6cm,
  framexrightmargin=0.6cm
}
\lstset{style=style}

\renewenvironment{frame}{\fontsize{20pt}{20pt}\selectfont}{\newpage}
\newenvironment{referenceframe}{%
  \fontsize{20pt}{20pt}\selectfont%
}{}
\newcommand{\frametitle}[1]{\stepcounter{subsection}\color{ured}{\Huge\arabic{section}.\arabic{subsection} #1}\color{char}\par}
\newcommand{\sectionframe}[1]{%
  \stepcounter{section}
  \fontsize{32pt}{32pt}\selectfont
  \vspace*{\stretch{1}}
  \begin{center}
    \color{ured}{\arabic{section}. #1}
  \end{center}
  \vspace{\stretch{2}}
  \fontsize{20pt}{20pt}
  \newpage
}

\setlength{\parindent}{0pt}
\setlength{\parskip}{6mm}

%%% Proof Environments %%%

\newenvironment{dfn}{\underline{Def}\ }{}
\newenvironment{prop}{\underline{Prop}\ }{}
\newenvironment{thm}{\underline{Thm}\ }{}
\newenvironment{lem}{\underline{Lem}\ }{}
\newenvironment{eg}{\underline{e.g.}\ }{}
\newenvironment{ex}{\underline{Exercise}\ }{}
\newenvironment{que}{\underline{Question}\ }{}
\newenvironment{axi}{\underline{Axiom}\ }{}
